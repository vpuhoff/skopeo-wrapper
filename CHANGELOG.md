# Changelog

Все значимые изменения в проекте skopeo-wrapper будут документированы в этом файле.

Формат основан на [Keep a Changelog](https://keepachangelog.com/en/1.0.0/),
и проект следует [Semantic Versioning](https://semver.org/spec/v2.0.0.html).

## [Unreleased]

### Added
- **Prometheus метрики**: Полная поддержка метрик для мониторинга операций
- **HTTP сервер метрик**: Встроенный сервер для экспорта метрик Prometheus
- **Grafana дашборды**: Готовые дашборды для визуализации метрик
- **OperationTracker**: Контекстный менеджер для детального отслеживания операций
- **Метрики blob'ов**: Отслеживание количества и размеров обрабатываемых blob'ов
- **Метрики источников и назначений**: Анализ типов источников и назначений
- **Алертинг**: Готовые правила алертинга для Prometheus
- **CLI команды для метрик**: `metrics-server` и `metrics` команды
- **Примеры мониторинга**: Полные примеры настройки мониторинга

### Changed
- Обновлен SkopeoWrapper для поддержки метрик
- Добавлены новые зависимости: prometheus_client
- Расширен CLI интерфейс для работы с метриками
- Обновлена документация с примерами метрик

### Fixed
- Улучшена обработка ошибок в метриках
- Исправлены проблемы с типизацией

## [1.0.0] - 2025-10-28

### Added
- Первоначальный релиз skopeo-wrapper
- Поддержка операций copy, inspect, delete, manifest-digest
- Парсинг прогресса для skopeo 1.18 и старых версий
- Callback-функции для мониторинга прогресса
- CLI интерфейс с полным набором команд
- Тесты и примеры использования
- Документация и руководство разработчика
- GitHub Actions для CI/CD
- Поддержка Python 3.7-3.12

### Features
- **SkopeoWrapper**: Основной класс для работы с skopeo
- **ProgressInfo**: Структура данных для информации о прогрессе
- **BlobInfo**: Информация о blob-объектах
- **CLI**: Консольный интерфейс с командами copy, inspect, delete, manifest-digest
- **Парсинг прогресса**: Извлечение информации о ходе выполнения операций
- **Обработка ошибок**: Корректная обработка ошибок и исключений

### Documentation
- README с полным описанием API
- Примеры использования (basic и advanced)
- Руководство разработчика
- Changelog и лицензия MIT

### Testing
- Unit тесты с pytest
- Тесты для skopeo 1.18
- Примеры использования
- GitHub Actions для автоматического тестирования

[Unreleased]: https://github.com/your-username/skopeo-wrapper/compare/v1.0.0...HEAD
[1.0.0]: https://github.com/your-username/skopeo-wrapper/releases/tag/v1.0.0
